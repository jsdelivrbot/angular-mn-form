{"version":3,"sources":["mn-form/mn-form.directive.js","app.js"],"names":["MnFormDirective","$compile","link","scope","element","attributes","form","find","instanceIndex","Array","from","document","querySelectorAll","indexOf","formName","attr","submit","bind","valid","$valid","$eval","restrict","angular","module","$inject","directive"],"mappings":"YAIA,SAASA,iBAAgBC,UAMvB,QAASC,MAAKC,MAAOC,QAASC,YAC5B,GAAMC,MAAOF,QAAQG,KAAK,QACpBC,cAAgBC,MAAMC,KAAKC,SAASC,iBAAiB,YAAYC,QAAQT,QAAQ,IAEjFU,SAAWR,KAAKS,KAAK,SAAV,QAAqBP,cAAA,EAAAA,cAAA,GACtCF,MAAKS,KAAK,OAAQD,UAClBb,SAASK,MAAMH,OAEXE,WAAWW,QACbV,KAAKW,KAAK,SAAU,WAElB,GAAMC,OAAQf,MAAMW,UAAUK,MAE1BD,QACFf,MAAMiB,MAAMf,WAAWW,UAnB/B,OACEK,SAAU,IACVnB,KAAAA,MCPJoB,QAAQC,OAAO,cDCfvB,gBAAgBwB,SAAW,YAD3BF,QACGC,OAAO,WACPE,UAAU,SAAUzB","file":"angular-mn-form.js","sourcesContent":["angular\n  .module('mn-form')\n  .directive('mnForm', MnFormDirective)\n\nfunction MnFormDirective($compile) {\n  return {\n    restrict: 'E',\n    link,\n  }\n\n  function link(scope, element, attributes) {\n    const form = element.find('form')\n    const instanceIndex = Array.from(document.querySelectorAll('mn-form')).indexOf(element[0])\n\n    const formName = form.attr('name') || `form${instanceIndex > 0 ? instanceIndex : ''}`\n    form.attr('name', formName)\n    $compile(form)(scope)\n\n    if (attributes.submit) {\n      form.bind('submit', () => {\n        const valid = scope[formName].$valid\n\n        if (valid) {\n          scope.$eval(attributes.submit)\n        }\n      })\n    }\n  }\n}\n","angular.module('mn-form', [])\n"],"sourceRoot":"/source/"}